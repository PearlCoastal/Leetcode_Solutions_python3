å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°
====
https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/

## é¢˜ç›®æè¿°
<img width="705" alt="æˆªå±0003-08-30 20 47 48" src="https://user-images.githubusercontent.com/10908630/131334522-34d1c8df-f1cc-48e8-ac87-65e2b5f7932e.png">

## æ€è·¯
å“ˆå¸Œè¡¨ã€‚

è¿™é“é¢˜çš„æ ‡ç­¾æ—¶ä½è¿ç®—ã€‚

ä½è¿ç®—å°±æ˜¯ï¼Œ æˆ‘çœ‹é¢˜è§£ä¸€ä¸‹çœ‹æ˜ç™½äº†ï¼Œ ä½†æ˜¯æŒä¹…åº¦ä¸é•¿ï¼Œ ğŸ§â€â™€ï¸ æˆ‘è¿˜å¿˜ä¸‹æ¬¡è¿˜ä¸ä¼š...

è¿˜ä¸å¦‚ç”¨ä¸€äº›æˆ‘æŒæ¡çš„æ¯”è¾ƒç†Ÿçš„æ–¹æ³•æ¥åšå‘¢ï¼Œ æ˜¯å§ï¼Ÿ

â•®(ï¿£â–½ï¿£"")â•­

é‚£è¿™ç¯‡é¢˜è§£ä¸å¦‚å°±æ¥è®²ä¸€ä¸‹ `collections.defaultdict(default_factory[, ...])` å’Œ `setdefault(key, default= None)`å§ã€‚

Python å†…å»ºå­—å…¸ç±» `dic = {key: value}` é”®å€¼å¯¹æ•°æ®ç»“æ„ã€‚

å½“ key ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œ ä¼šå¼•å‘ `KeyError` å¼‚å¸¸ï¼Œ ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œ å°±æœ‰äº† collections ç±»ä¸­çš„ defaultdict æ–¹æ³•ä¸ºå­—å…¸æä¾›é»˜è®¤å€¼ã€‚

## ğŸ“’ setdefault(key, default= None)

å½“ key ä¸å­˜åœ¨æ—¶ï¼Œ å°†ä¼šæ·»åŠ  key å¹¶ä¸” key å¯¹åº”çš„ value ä¸ºé»˜è®¤å€¼ default ã€‚

## ğŸ“’ collections.defaultdict(default_factory[, ...])

`defaultdict` å°±æ˜¯ç”¨æ¥è§£å†³ missing key è¿™ä¸ªé—®é¢˜çš„ã€‚

`defaultdict` æ˜¯ Python å­—å…¸ç±»çš„ä¸€ä¸ªå­ç±»ï¼Œ é‡æ–°äº†æ–¹æ³• missing(key)ã€‚

å½“è¦æ’å…¥çš„ `key` ä¸å­˜åœ¨æ—¶ï¼Œ ä¸ä¼šæŠ¥é”™ï¼Œ è€Œæ˜¯æä¾›ä¸€ä¸ªåˆå§‹å€¼ï¼Œ é»˜è®¤ä¸º `None`ã€‚

`defaut_factory` å°±æ˜¯ç”¨æ¥æä¾›åˆå§‹å€¼çš„ã€‚

**1. å½“ int ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ ğŸ‘‰ `defaultdict(int)` å¯ä»¥è¢«ç”¨æ¥è®¡æ•°ã€‚**

   å½“ key ä¸å­˜åœ¨æ—¶ï¼Œ æä¾›ä¸€ä¸ªé»˜è®¤å€¼ä¸º 0.

**2. å½“ list ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ ğŸ‘‰ `defaultdict(list)` å¯ä»¥å°†é”®å€¼å¯¹åºåˆ—è½¬æ¢ä¸ºåˆ—è¡¨å­—å…¸ã€‚**

ä¸¾ä¸ªğŸŒ°ï¼š
```python
from collections import defaultdict
s=[('yellow',1),('blue', 2), ('yellow', 3), ('blue', 4), ('red', 1)]
d=defaultdict(list)
for k, v in s:
    d[k].append(v)
a=sorted(d.items())
print(a)
```
è¿”å›ç»“æœï¼š
```
[('blue', [2, 4]), ('red', [1]), ('yellow', [1, 3])]
```

**3. å½“ set ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ ğŸ‘‰ `defaultdict(set)` å¯ä»¥å»ºç«‹å­—å…¸é›†åˆã€‚**

ä¸¾ä¸ªğŸŒ°ï¼š
```python
from collections import defaultdict
s = [('red', 1), ('blue', 2), ('red', 3), ('blue', 4), ('red', 1), ('blue', 4)]
d = defaultdict(set)
for k, v in s:
    d[k].add(v)
print('\n',d)
a=sorted(d.items())
print('\n',a)
```

è¿”å›ç»“æœï¼š
```
defaultdict(<class 'set'>, {'red': {1, 3}, 'blue': {2, 4}})

[('blue', {2, 4}), ('red', {1, 3})]
```

## ä»£ç 
```python
class Solution:
    def singleNumbers(self, nums: List[int]) -> List[int]:

        dic = collections.defaultdict(int)

        for num in nums:
            dic[num] += 1
        ans = []
        for key, value in dic.items():
            if dic[key] == 1:
                ans.append(key)
        return ans
```

## å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š O(n)
- ç©ºé—´å¤æ‚åº¦ï¼š O(n)

å‚è€ƒæ–‡çŒ®ï¼š

1. https://nfwcap.github.io/2019/03/05/%E5%85%B3%E4%BA%8EPython-collections-defaultdict-%E4%B8%8Edict%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8C%BA%E5%88%AB/
