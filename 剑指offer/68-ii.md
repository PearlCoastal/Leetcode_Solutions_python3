å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ
====
https://leetcode-cn.com/problems/er-cha-shu-de-zui-jin-gong-gong-zu-xian-lcof/
> []()<br>
> []()<br>

## é¢˜ç›®æè¿°

## æ€è·¯

è¿™é“é¢˜æ˜¯ []() çš„å‡çº§ç‰ˆï¼Œ æ²¡æœ‰äº†äºŒå‰æœç´¢æ ‘å·¦å°å³å¤§çš„æ€§è´¨ã€‚

åœ¨åˆ¤æ–­èŠ‚ç‚¹é€’å½’æ–¹å‘çš„æ—¶å€™è¦åšåˆ¤æ–­ p q æ˜¯åœ¨ root çš„å“ªä¸€ä¾§ã€‚

é€’å½’+å…ˆåºéå†ã€‚

é€’å½’å‡ºå£ï¼š è¶Šè¿‡å¶å­ç»“ç‚¹ || æ‰¾åˆ°èŠ‚ç‚¹ p || æ‰¾åˆ°èŠ‚ç‚¹ q æ—¶ï¼Œ è¿”å› root

é€’å½’æœ¬ä½“ï¼š 

1. å½“ä¸¤ä¾§ left right çš„è¿”å›å€¼éƒ½ä¸ºçœŸï¼Œ è¯´æ˜ p q åœ¨æ­¤èŠ‚ç‚¹ä¸¤ä¾§ï¼Œ åˆ™å½“å‰èŠ‚ç‚¹ä¸ºæœ€è¿‘å…¬å…±ç¥–å…ˆã€‚
2. å½“å³ä¾§ä¸ºçœŸå·¦ä¾§ä¸ºå‡æ—¶ï¼Œ è¯´æ˜ä¸€ä¸ªæŸ¥æ‰¾èŠ‚ç‚¹åœ¨å¦ä¸€ä¸ªæŸ¥æ‰¾èŠ‚ç‚¹çš„å³å­æ ‘ä¸­ã€‚
3. å½“å·¦ä¾§ä¸ºçœŸå³ä¾§ä¸ºå‡æ—¶ï¼Œ è¯´æ˜ä¸€ä¸ªæŸ¥æ‰¾èŠ‚ç‚¹åœ¨å¦ä¸€ä¸ªæŸ¥æ‰¾èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­ã€‚
4. left å’Œ right éƒ½ä¸ºå‡ï¼Œ è¯´æ˜ pï¼Œ q ä¸å­˜åœ¨åœ¨äºŒå‰æ ‘ä¸­ã€‚(é¢˜ç›®ç»™å‡ºçš„ pï¼Œ q ä¸€å®šå­˜åœ¨äºäºŒå‰æ ‘ä¸­ï¼Œ æˆ‘å†™ return None åªæ˜¯å‡ºäºä»£ç ä¹ æƒ¯)

ä¸¾ä¸ªğŸŒ°ï¼š 
é¢˜ç›®ç»™å‡ºçš„è¿™é¢—äºŒå‰æ ‘ ğŸ‘‡
![image](https://user-images.githubusercontent.com/10908630/131211251-16033490-2cf6-48e7-92b6-c32efdab6ddd.png)

p = 5 q = 4 æ—¶ï¼Œ åœ¨ root = 2 æ—¶ï¼Œ left = Noneï¼Œ right = 4ï¼Œ å…¶å® q æ˜¯ p çš„å³å­æ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œ æœ€åè¿”å›çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ = 5 = pã€‚

## ä»£ç 
```python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None
class Solution:
    def lowestCommonAncestor(self, root: TreeNode, p: TreeNode, q: TreeNode) -> TreeNode:
        
        if not root:
            return root
        if root == p or root == q:
            return root
        left = self.lowestCommonAncestor(root.left, p, q)
        right = self.lowestCommonAncestor(root.right, p, q)

        if left and right:
            return root
        if not left and right:
            return right
        if left and not right:
            return left
        return None
```

## å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š O(n)
- ç©ºé—´å¤æ‚åº¦ï¼š O(n)
