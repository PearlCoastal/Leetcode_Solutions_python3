è‚¡ç¥¨ä¹°å–é—®é¢˜ å¤§é›†åˆğŸ‘Š
====
> 1. [LC.121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://github.com/PearlCoastal/Leetcode_GitOn/blob/master/DynamicProcessing/%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96.md#lc121-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA)<br>
> 2. [LC.122 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://github.com/PearlCoastal/Leetcode_GitOn/blob/master/DynamicProcessing/%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96.md#lc122-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA-ii)<br>
> 3. [LC.714 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹](https://github.com/PearlCoastal/Leetcode_GitOn/blob/master/DynamicProcessing/%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96.md#lc714-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA%E5%90%AB%E6%89%8B%E7%BB%AD%E8%B4%B9)<br>
> 4. [LC.309 æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ](https://github.com/PearlCoastal/Leetcode_GitOn/blob/master/DynamicProcessing/%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96.md#lc309-%E6%9C%80%E4%BD%B3%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E6%97%B6%E6%9C%BA%E5%90%AB%E5%86%B7%E5%86%BB%E6%9C%9F)<br>
> 5. [LC.123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III](https://github.com/PearlCoastal/Leetcode_GitOn/blob/master/DynamicProcessing/%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96.md#lc123-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA-iii)<br>
> 6. [LC188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV](https://github.com/PearlCoastal/Leetcode_GitOn/blob/master/DynamicProcessing/%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96.md#lc188-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA-iv)<br>




LC.121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº
====

https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/
<img width="699" alt="121" src="https://user-images.githubusercontent.com/10908630/128356736-3b84c1df-9af6-48df-94d6-870be8df917a.png">

> æš´åŠ›è§£
> åŠ¨æ€è§„åˆ’

æš´åŠ›è§£
====
## ä»£ç 
```python
class Solution:
    def maxProfit(self, prices: [int]) -> int:
        size = len(prices)
        ans = 0
        for i in range(size):
            for j in range(i + 1, size)
                if prices[i] < prices[j]:
                    ans = max(ans, prices[j] - prices[i])
        return ans
```

åŠ¨æ€è§„åˆ’
====
## ä»£ç 
```python
class Solution:
    def maxProfit(self, prices: [int]) -> int:

        size = len(prices)
        dp = [0] * size
        smallest = prices[0]
        for i in range(size):
            if prices[i] < smallest:
                smallest = prices[i]
            dp[i] = max(dp[i - 1], prices[i] - smallest)
    
        return dp[-1]
```


LC.122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II
====
https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/description/
<img width="696" alt="122" src="https://user-images.githubusercontent.com/10908630/128356752-aae62894-14f3-433c-a42f-0d793cade9c1.png">


åŠ¨æ€è§„åˆ’
====

## åŠ¨æ€åˆå§‹åŒ–ï¼š
```
dp[i][0]: ç¬¬ i å¤©äº¤æ˜“å®Œåæ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ã€‚
dp[i][1]: ç¬¬ i å¤©äº¤æ˜“å®Œåæ‰‹é‡Œæœ‰è‚¡ç¥¨æ—¶çš„æœ€å¤§åˆ©æ¶¦ã€‚
```
ç¬¬ä¸€å¤©å°±ä¹°å…¥è‚¡ç¥¨ï¼Œ å‡å»ä»Šå¤©çš„è‚¡ç¥¨ä»·æ ¼ï¼š
```
dp[0][1] = -prices[0]
```
## åŠ¨æ€è½¬ç§»æ–¹ç¨‹ï¼š

æ¯å¤©äº¤æ˜“ç»“æŸä¹‹ååªå¯èƒ½å­˜åœ¨ä¸¤ç§çŠ¶æ€ï¼Œ **æœ‰è‚¡ç¥¨** å’Œ **æ²¡æœ‰è‚¡ç¥¨**ã€‚

- æ²¡æœ‰è‚¡ç¥¨çš„æƒ…å†µï¼Œ å¯èƒ½å‰ä¸€å¤©å°±æ²¡æœ‰è‚¡ç¥¨ or å‰ä¸€å¤©æœ‰è‚¡ç¥¨ä»Šæ—¥å–å‡ºï¼Œ åŠ ä¸Šä»Šå¤©çš„è‚¡ç¥¨ä»·æ ¼ã€‚
```
dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i])
```
- æœ‰è‚¡ç¥¨çš„æƒ…å†µï¼Œ å¯èƒ½å‰ä¸€å¤©æŒæœ‰è‚¡ç¥¨ or å‰ä¸€å¤©æ²¡æœ‰è‚¡ç¥¨ä»Šå¤©ä¹°å…¥ï¼Œ å‡å»ä»Šå¤©çš„è‚¡ç¥¨ä»·æ ¼ã€‚
```
dp[i][1] = max(dp[i - 1[1], dp[i - 1][0] - prices[i])
```
## ä»£ç 
```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        n = len(prices)
        '''
        0: no stack
        1: have stack
        '''
        dp = [[0 for j in range(2)] for i in range(n + 1)]
        
        dp[0][1] = -prices[0]

        for i in range(1, n + 1):
            dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i - 1])
            dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i - 1])
        
        return dp[-1][0]
```

è´ªå¿ƒç®—æ³•
====
## ä»£ç 
```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        ans = 0
        for i in range(1, len(prices)):
            if prices[i] > prices[i - 1]:
                ans += prices[i]- prices[i - 1]
        return ans
```

LC.714 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹
====
https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/
<img width="691" alt="714" src="https://user-images.githubusercontent.com/10908630/128357182-ae0ca9bf-047f-44e5-8276-33faf6b931ab.png">

## æ€è·¯

è¿™é“é¢˜å…¶å®å°±æ˜¯åœ¨ä¸Šé¢[LC.122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II]çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†æ¯æ¬¡äº¤æ˜“çš„è´¹ç”¨ã€‚

åœ¨è‚¡ç¥¨å–å‡ºçš„æ—¶å€™å‡å»æ‰‹ç»­è´¹å°±å¯ä»¥äº†ã€‚
```
dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i] - fee)
```
## ä»£ç 
```python
class Solution:
    def maxProfit(self, prices: List[int], fee: int) -> int:
        dp = [[0 for _ in range(2)]for i in range(len(prices))]
        
        dp[0][1] = -prices[0]

        for i in range(1, len(prices)):
            dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i] - fee)
            dp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - prices[i])
        
        return dp[-1][0]
```
LC.309 æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ
====

<img width="701" alt="309" src="https://user-images.githubusercontent.com/10908630/128357196-f3bbdf1a-bfca-4911-a14d-a7b00096dce6.png">

## æ€è·¯

è¿™é“é¢˜ä¹Ÿæ˜¯[LC.122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II]çš„å˜å½¢é¢˜ã€‚

å½“å¤©ç»“æŸä¹‹åæ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æƒ…å†µ

ä»

`dp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - prices[i])`

å˜æˆäº†

`dp[i][1] = max(dp[i - 1][1], dp[i - 2][0] - prices[i - 1])`

å¦‚æœå‰ä¸€å¤©è¿›è¡Œäº†è‚¡ç¥¨äº¤æ˜“ = å–å‡ºäº†è‚¡ç¥¨ï¼Œ ä¸‹ä¸€æ¬¡äº¤æ˜“å°±è¦ç­‰åˆ°ä¸€å¤©ä¹‹åã€‚
```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:

        dp = [[0 for i in range(2)]for _ in range(len(prices) + 1)]
        
        '''
        0: no stack
        1: hold stack
        '''
        dp[0][1] = -prices[0]

        for i in range(1, len(prices) + 1):
            dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i - 1])
            dp[i][1] = max(dp[i - 1][1], dp[i - 2][0] - prices[i - 1])
        return dp[len(prices)][0]
```

LC.123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III
====
https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/
<img width="689" alt="1231" src="https://user-images.githubusercontent.com/10908630/128358540-9057990b-6aed-4adb-a9d3-2bb5f0211b29.png">

## æ€è·¯

å†å¢åŠ ä¸€ä¸ªçŠ¶æ€ï¼Œ åŠ¨æ€è§„åˆ’ä¸‰çŠ¶æ€åŸºæœ¬ä¸Šå°±æ˜¯ hard æ¨¡å¼äº†ã€‚



## ä»£ç 
```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        n = len(prices)
        K = 2
        dp = [[[0 for _ in range(2)] for j in range(K + 1)] for i in range(n)]

        for k in range(K + 1):
            dp[0][k][0] = 0
            dp[0][k][1] = -prices[0]
        
        for i in range(1, n):
            for k in range(1, K + 1):
                dp[i][k][0] = max(dp[i - 1][k][0], dp[i - 1][k][1] + prices[i])
                dp[i][k][1] = max(dp[i - 1][k][1], dp[i - 1][k-1][0] - prices[i])
        
        return dp[-1][-1][0]
```

LC188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV
====

<img width="697" alt="188" src="https://user-images.githubusercontent.com/10908630/128357207-324cac3e-acaa-4e2c-81d6-5521b421bc27.png">

```python
class Solution:
    def maxProfit(self, K: int, prices: List[int]) -> int:
        n = len(prices)
        dp = [[[0 for _ in range(2)] for k in range(K + 1)] for i in range(n)]
        
        for k in range(K + 1):
            dp[0][k][0] = 0
            dp[0][k][1] = -prices[0]
        
        for i in range(1, n):
            dp[i][0][0] = 0
            dp[i][0][1] = -prices[0]

            for k in range(1, K + 1):
                dp[i][k][0] = max(dp[i - 1][k][0], dp[i - 1][k][1] + prices[i])
                dp[i][k][1] = max(dp[i - 1][k][1], dp[i - 1][k - 1][0] - prices[i])

        return dp[-1][-1][0]
```
