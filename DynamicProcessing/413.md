LC.413 ç­‰å·®æ•°åˆ—åˆ’åˆ†
====
https://leetcode-cn.com/problems/arithmetic-slices/

åŠ¨æ€è§„åˆ’
====

## æ€è·¯

### åŠ¨æ€åˆå§‹åŒ–

dp[i] ä»£è¡¨ä»¥ nums[i] ç»“å°¾çš„ç­‰å·®å­æ•°ç»„çš„ä¸ªæ•°ã€‚

### åŠ¨æ€è½¬ç§»æ–¹ç¨‹

è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ 

å¦‚æœ nums[i] - nums[i - 1] == nums[i - 1] - nums[i - 2] åˆ™æ„æˆç­‰å·®æ•°ç»„ã€‚

æœ‰ dp[i] = dp[i - 1] + 1ã€‚

## ä»£ç 
```python
class Solution:
    def numberOfArithmeticSlices(self, nums: List[int]) -> int:
        n = len(nums)
        if n < 3:
            return 0
        dp = [0 for i in range(n)]
        for i in range(2, n):
            if nums[i] - nums[i - 1] == nums[i - 1] - nums[i - 2]:
                dp[i] = dp[i - 1] + 1

        return sum(dp)
```

## å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š O(n)
- ç©ºé—´å¤æ‚åº¦ï¼š O(n)

æ»‘åŠ¨çª—å£
====

## æ€è·¯
æ±‚è¿ç»­çš„å­æ•°ç»„ï¼Œ å…¶å®è¿˜æ˜¯æ»‘åŠ¨çª—å£æ¯”è¾ƒç¬¦åˆæˆ‘çš„æ€ç»´å®šå¼ã€‚

pre è¡¨ç¤ºç­‰å·®å­æ•°ç»„çš„ä¸ªæ•°ã€‚

å¦‚æœå’Œå‰é¢æ„æˆäº†ç­‰å·®å­æ•°ç»„ï¼Œ å°±å åŠ ã€‚

æ²¡æ„æˆç­‰å·®å­æ•°ç»„ï¼Œ ç›´æ¥æ¸…é›¶ã€‚ğŸ†‘

## ä»£ç 
```python
class Solution:
    def numberOfArithmeticSlices(self, nums: List[int]) -> int:
        n = len(nums)
        if n < 3:
            return 0
        ans = 0
        pre = 0
        for i in range(2, len(nums)):
            if nums[i] - nums[i - 1] == nums[i - 1] - nums[i - 2]:
                pre += 1
            else:
                pre = 0
            ans += pre
        return ans
```

## å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š O(n)
- ç©ºé—´å¤æ‚åº¦ï¼š O(1)
