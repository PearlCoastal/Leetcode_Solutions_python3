LC 688. Knight Probability in Chessboard
====

https://leetcode-cn.com/problems/knight-probability-in-chessboard/

    å·²çŸ¥ä¸€ä¸ªÂ NxNÂ çš„å›½é™…è±¡æ£‹æ£‹ç›˜ï¼Œæ£‹ç›˜çš„è¡Œå·å’Œåˆ—å·éƒ½æ˜¯ä»Ž 0 å¼€å§‹ã€‚å³æœ€å·¦ä¸Šè§’çš„æ ¼å­è®°ä¸ºÂ (0, 0)ï¼Œæœ€å³ä¸‹è§’çš„è®°ä¸ºÂ (N-1, N-1)ã€‚Â 
    çŽ°æœ‰ä¸€ä¸ª â€œé©¬â€ï¼ˆä¹Ÿè¯‘ä½œ â€œéª‘å£«â€ï¼‰ä½äºŽÂ (r, c)Â ï¼Œå¹¶æ‰“ç®—è¿›è¡ŒÂ K æ¬¡ç§»åŠ¨ã€‚Â 
    å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›½é™…è±¡æ£‹çš„ â€œé©¬â€ æ¯ä¸€æ­¥å…ˆæ²¿æ°´å¹³æˆ–åž‚ç›´æ–¹å‘ç§»åŠ¨ 2 ä¸ªæ ¼å­ï¼Œç„¶åŽå‘ä¸Žä¹‹ç›¸åž‚ç›´çš„æ–¹å‘å†ç§»åŠ¨ 1 ä¸ªæ ¼å­ï¼Œå…±æœ‰ 8 ä¸ªå¯é€‰çš„ä½ç½®ã€‚

    çŽ°åœ¨ â€œé©¬â€ æ¯ä¸€æ­¥éƒ½ä»Žå¯é€‰çš„ä½ç½®ï¼ˆåŒ…æ‹¬æ£‹ç›˜å¤–éƒ¨çš„ï¼‰ä¸­ç‹¬ç«‹éšæœºåœ°é€‰æ‹©ä¸€ä¸ªè¿›è¡Œç§»åŠ¨ï¼Œç›´åˆ°ç§»åŠ¨äº†Â KÂ æ¬¡æˆ–è·³åˆ°äº†æ£‹ç›˜å¤–é¢ã€‚
    æ±‚ç§»åŠ¨ç»“æŸåŽï¼Œâ€œé©¬â€ ä»ç•™åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚çŽ‡ã€‚
    ç¤ºä¾‹ï¼š
    è¾“å…¥: 3, 2, 0, 0
    è¾“å‡º: 0.0625
    è§£é‡Š: 
    è¾“å…¥çš„æ•°æ®ä¾æ¬¡ä¸º N, K, r, c
    ç¬¬ 1 æ­¥æ—¶ï¼Œæœ‰ä¸”åªæœ‰ 2 ç§èµ°æ³•ä»¤ â€œé©¬â€ å¯ä»¥ç•™åœ¨æ£‹ç›˜ä¸Šï¼ˆè·³åˆ°ï¼ˆ1,2ï¼‰æˆ–ï¼ˆ2,1ï¼‰ï¼‰ã€‚å¯¹äºŽä»¥ä¸Šçš„ä¸¤ç§æƒ…å†µï¼Œå„è‡ªåœ¨ç¬¬2æ­¥å‡æœ‰ä¸”åªæœ‰2ç§èµ°æ³•ä»¤ â€œé©¬â€ ä»ç„¶ç•™åœ¨æ£‹ç›˜ä¸Šã€‚
    æ‰€ä»¥ â€œé©¬â€ åœ¨ç»“æŸåŽä»åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚çŽ‡ä¸º 0.0625ã€‚
    æ³¨æ„ï¼š
    - N çš„å–å€¼èŒƒå›´ä¸º [1, 25]
    - KÂ çš„å–å€¼èŒƒå›´ä¸º [0, 100]
    - å¼€å§‹æ—¶ï¼Œâ€œé©¬â€ æ€»æ˜¯ä½äºŽæ£‹ç›˜ä¸Š

## æ€è·¯

è®¡ç®—æ¦‚çŽ‡ å“­å”§å”§T ã€‚T

å…¶å®žé©¬èµ°æ—¥è¿™é“é¢˜è·Ÿ[äºŒç»´çˆ¬æ¥¼æ¢¯](https://github.com/PearlCoastal/VSCode_GitOn/blob/master/DynamicProcessing/62.%E4%B8%8D%E5%90%8C%E8%B7%AF%E5%BE%84.md)æœ‰ç‚¹åƒå•¦ã€‚

ä½†æ˜¯æ˜¯ **ä¸è¿žç»­çš„åŠ¨æ€è§„åˆ’**ã€‚

æ€Žä¹ˆä¸ªä¸è¿žç»­æ³•å‘¢ï¼Œ å°±æ˜¯è¦èµ° k æ­¥ï¼Œæ‰€ä»¥æ›´æ–° k æ¬¡åŠ¨æ€æ•°ç»„ã€‚

    é©¬ðŸŽ æ¯ä¸€æ­¥æœ‰ **å…«ä¸ªä½ç½®** å¯ä»¥é€‰æ‹©ï¼Œæ¯ä¸ªä½ç½®çš„æ¦‚çŽ‡å°±æ˜¯ 1/8ã€‚

    é©¬ðŸŽ åœ¨ [i][j] ä½ç½®ä¸Šæ—¶ å¯ä»¥é€‰æ‹©çš„ **å…«ä¸ªä½ç½®** åˆ†åˆ«æ˜¯ 

        (i + 2, j + 1), (i + 2, j - 1), (i - 2, j + 1), (i - 2, j - 1)
        (i + 1, j + 2), (i - 1, j + 2), (i + 1, j - 2), (i - 1, j - 2)

    è®°å½•æœ¬è½®æ¦‚çŽ‡å€¼åˆ° dp æ•°ç»„ä¸Šï¼Œç„¶åŽæ¸…ç©ºæ£‹ç›˜ã€‚

    ä¸‹ä¸€è½®å¼€å§‹ã€‚èµ°åˆ°ä¸Šé¢ **å…«ä¸ªä½ç½®** ä¸­åˆæ³•çš„ä½ç½®ä¸Š = dp æ•°ç»„ä¸­ä½ç½®ä¸ä¸º 0 çš„ç‚¹å±•å¼€ä¸‹ä¸€è½® é©¬ðŸŽ èµ°ä½ã€‚

    åœ¨ 1/8 çš„åŸºç¡€ä¸Šå†ä¹˜ä»¥ 1/8ã€‚
    
    ä¸€å…±é‡å¤ k è½®ã€‚

## åŠ¨æ€åˆå§‹åŒ–

    dp[i][j] ä»£è¡¨ é©¬ðŸŽ åœ¨ [i][j] ç‚¹æ—¶ç•™åœ¨æ£‹ç›˜å†…çš„æ¦‚çŽ‡ã€‚
    æ ¹æ®é¢˜ç›®æç¤ºï¼šâ€œå¼€å§‹æ—¶ï¼Œâ€œé©¬â€ æ€»æ˜¯ä½äºŽæ£‹ç›˜ä¸Šâ€ã€‚
    å¯çŸ¥ dp[row][col] = 1ã€‚

## éåŽ†æ–¹å‘å’ŒèŒƒå›´

    æ€»å…±èµ° k æ­¥ï¼Œä¸€å…±å¾ªçŽ¯ k è½®ã€‚

## è¿”å›žç»“æžœ

    é©¬ðŸŽ èµ°äº† k æ­¥ï¼Œä¾ç„¶åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚çŽ‡ = é©¬ðŸŽ æ¯ä¸€æ­¥çš„æ¦‚çŽ‡ä¹‹å’Œã€‚

## ä»£ç 

```python
#
# @lc app=leetcode.cn id=688 lang=python3
#
# [688] â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚çŽ‡
#

# @lc code=start
class Solution:
    def knightProbability(self, n: int, k: int, row: int, column: int) -> float:

        dp = [[0 for i in range(n)] for j in range(n)]
        dp[row][column] = 1

        for _ in range(k):
            temp = [[0 for i in range(n)] for j in range(n)]

            for i in range(n):
                for j in range(n):
                    if dp[i][j] == 0:
                        continue
                    
                    for x, y in [(i + 2, j + 1), (i + 2, j - 1), (i - 2, j + 1), (i - 2, j - 1), (i + 1, j + 2), (i - 1, j + 2), (i + 1, j - 2), (i - 1, j - 2)]:
                        if 0 <= x < n and 0 <= y < n:
                            temp[x][y] += dp[i][j] / 8
                
            dp = temp
        
        ans = 0 
        for line in dp:
            ans += sum(line)
        return ans

# @lc code=end

n = 3
k = 2
row = 0
column = 0
```

## å¤æ‚åº¦åˆ†æžï¼š
n ä¸ºæ£‹ç›˜å¤§å°ï¼Œk ä¸ºèµ°å¤šå°‘æ­¥

    - æ—¶é—´å¤æ‚åº¦ï¼šO(k n^2)
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n^2)