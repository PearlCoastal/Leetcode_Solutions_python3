LC. 677 Map Sum Pairs
====

> [å“ˆå¸Œè¡¨ç®€å•è§£æ³•âœ…](https://github.com/PearlCoastal/Leetcode_GitOn/new/master/Trie#%E5%93%88%E5%B8%8C%E8%A1%A8)<br>
> [Trie + DFS è¶…å‡ºæ—¶é—´é™åˆ¶](https://github.com/PearlCoastal/Leetcode_GitOn/new/master/Trie#trie--dfs)<br>
> [Trie + Queueâœ…](https://github.com/PearlCoastal/Leetcode_GitOn/new/master/Trie#trie)<br>

https://leetcode-cn.com/problems/map-sum-pairs/

	å®ç°ä¸€ä¸ª MapSum ç±»ï¼Œæ”¯æŒä¸¤ä¸ªæ–¹æ³•ï¼ŒinsertÂ å’ŒÂ sumï¼š
	MapSum() åˆå§‹åŒ– MapSum å¯¹è±¡
	void insert(String key, int val) æ’å…¥ key-val é”®å€¼å¯¹ï¼Œå­—ç¬¦ä¸²è¡¨ç¤ºé”® key ï¼Œæ•´æ•°è¡¨ç¤ºå€¼ val ã€‚å¦‚æœé”® key å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆåŸæ¥çš„é”®å€¼å¯¹å°†è¢«æ›¿ä»£æˆæ–°çš„é”®å€¼å¯¹ã€‚
	int sum(string prefix) è¿”å›æ‰€æœ‰ä»¥è¯¥å‰ç¼€ prefix å¼€å¤´çš„é”® key çš„å€¼çš„æ€»å’Œã€‚
	ç¤ºä¾‹ï¼š
	è¾“å…¥ï¼š
	["MapSum", "insert", "sum", "insert", "sum"]
	[[], ["apple", 3], ["ap"], ["app", 2], ["ap"]]
	è¾“å‡ºï¼š
	[null, null, 3, null, 5]
	è§£é‡Šï¼š
	MapSum mapSum = new MapSum();
	mapSum.insert("apple", 3);  
	mapSum.sum("ap");           // return 3 (apple = 3)
	mapSum.insert("app", 2);    
	mapSum.sum("ap");           // return 5 (apple + app = 3 + 2 = 5)

å“ˆå¸Œè¡¨
====
## æ€è·¯

é”®å€¼å¯¹åº” ğŸ‘‰ å“ˆå¸Œè¡¨å®Œç¾ Îµ-(Â´âˆ€ï½€; )

é¢˜ç›®è¦æ±‚å¦‚æœæœ‰ç›¸åŒçš„ key å­˜åœ¨ï¼Œ åˆ™ç›´æ¥è¦†ç›– valueã€‚

çœå»äº†éå†å“ˆå¸Œè¡¨åˆ¤æ–­çš„æ—¶é—´ã€‚

æŸ¥æ‰¾å‡½æ•°é‡Œï¼Œ ç”¨äº† startswith() ä¸çŸ¥é“ç®—ä¸ç®—ä½œå¼Š...

å†…ç½®å‡½æ•°çœŸçš„å¥½å¥½ç”¨( *ï½€Ï‰Â´)

## ä»£ç 
```python
class MapSum:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.dict = {}

    def insert(self, key: str, val: int) -> None:
        self.dict[key] = val

    def sum(self, prefix: str) -> int:
        count = 0
        for key, value in self.dict.items():
            if key.startswith(prefix):
                count += value
        return count

# Your MapSum object will be instantiated and called as such:
# obj = MapSum()
# obj.insert(key,val)
# param_2 = obj.sum(prefix)
```
## å¤æ‚åº¦åˆ†æ
P ä¸º prefix å­—ç¬¦ä¸²é•¿åº¦<br>
N ä¸º key å­—ç¬¦ä¸²é•¿åº¦	

- æ—¶é—´å¤æ‚åº¦ï¼š O(N * P)	
- ç©ºé—´å¤æ‚åº¦ï¼š O(N)	

Trie + DFS
====
## æ€è·¯

Trie + DFS ï¼š è¶…å‡ºæ—¶é—´é™åˆ¶ 

## ä»£ç 
```python
class TrieNode:
    def __init__(self):
        self.children = {}
        self.val = 0
class MapSum:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.root = TrieNode()

    def insert(self, key: str, val: int) -> None:
        node = self.root
        for char in key:
            if char not in node.children:
                node.children[char] = TrieNode()
            node = node.children[char]
        node.val = val

    def sum(self, prefix: str) -> int:
        node = self.root
        for char in prefix:
            if char not in node.children:
                return 0
            node = node.children[char]
        return self.dfs(node)

    def dfs(self, node ) -> int:
        ans = 0
        while node != None:
            ans += node.val
        return ans

# Your MapSum object will be instantiated and called as such:
# obj = MapSum()
# obj.insert(key,val)
# param_2 = obj.sum(prefix)
```

Trie
====
## æ€è·¯

ä¸€é¢—æ‰‹å†™å‰ç¼€æ ‘ï¼Œ å­—å…¸å±‚å±‚åµŒå¥—ã€‚

key = 'apple' val = 3
key = 'app' val = 2

![image](https://github.com/PearlCoastal/Leetcode_GitOn/blob/master/img-folder/%E6%88%AA%E5%B1%8F0003-07-14%2014.12.23.png)

## ä»£ç 
```python
import collections
class MapSum:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.dic = {}

    def insert(self, key: str, val: int) -> None:
        node = self.dic

        for char in key:
            if char not in node:
                node[char] = {}
            node = node[char]
        node['val'] = val

    def sum(self, prefix: str) -> int:
        ans = 0
        node = self.dic

        for char in prefix:
            if char not in node:
                return ans
            node = node[char]
        queue = [node]
        while queue:
            size = len(queue)
            for i in range(size):
                char = queue.pop()
                for key in char.keys():
                    if key == 'val':
                        ans += char['val']
                    else:
                        queue.append(char[key])
        return ans


# Your MapSum object will be instantiated and called as such:
# obj = MapSum()
# obj.insert(key,val)
# param_2 = obj.sum(prefix)
```
